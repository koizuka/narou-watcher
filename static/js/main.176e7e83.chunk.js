(this["webpackJsonpnarou-react"]=this["webpackJsonpnarou-react"]||[]).push([[0],{128:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(41),o=n.n(c),i=(n(128),n(12)),u=n(181),s=n(65),l=n(224),b=n(196),f=n(194),d=n(103),j=n(195),O=n(210),v=n(76),m=n(30),p=n(14),h=n.n(p),k=n(23),x=n(71),g=n(62),y=n(98),w=n(104),C=n(105),_=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(e,r){var a;return Object(g.a)(this,n),(a=t.call(this,r)).status=e,a.name="ApiError",a}return n}(Object(C.a)(Error)),I=function(){function e(t){Object(g.a)(this,e),this.server=void 0,this.server=t.replace(/\/$/,"")}return Object(x.a)(e,[{key:"baseUrl",get:function(){return this.server}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(k.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(this.server).concat(t),{credentials:"include"}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())},{key:"login",value:function(){var e=Object(k.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),r.append("password",n),e.next=5,fetch("".concat(this.server,"/narou/login"),{method:"POST",body:r,credentials:"include"});case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(k.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("/narou/logout");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"call",value:function(){var e=Object(k.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(t);case 2:if((n=e.sent).ok){e.next=10;break}return e.t0=_,e.t1=n.status,e.next=8,n.text();case 8:throw e.t2=e.sent,new e.t0(e.t1,e.t2);case 10:return e.abrupt("return",n.json());case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"isnoticelist",value:function(e){var t=e.maxPage;return"/narou/isnoticelist?max_page=".concat(void 0===t?1:t)}},{key:"isnoticelistR18",value:function(e){var t=e.maxPage;return"/r18/isnoticelist?max_page=".concat(void 0===t?1:t)}},{key:"bookmarks",value:function(){return"/narou/bookmarks/"}},{key:"bookmarksR18",value:function(){return"/r18/bookmarks/"}},{key:"bookmark",value:function(e,t){var n=t.order;return"/narou/bookmarks/".concat(e,"?order=").concat(n)}},{key:"bookmarkR18",value:function(e,t){var n=t.order;return"/r18/bookmarks/".concat(e,"?order=").concat(n)}},{key:"novelInfo",value:function(e){return"/narou/novels/".concat(e)}},{key:"novelInfoR18",value:function(e){return"/r18/novels/".concat(e)}}]),e}(),S=n(18),B=n(16),E=n(99),R=n(191),A=n(193),F=n(205),M=n(225),P=n(226),z=n(227),K=n(222),N=n(228),D=n(203),L=n(217),T=n(212),U=n(208),H=n(230),G=n(204),J=n(209),W=n(192),X=n(229),Z=n(231),$=n(232),V=n(190),q=n(197),Q=n(106),Y=n(198),ee=n(202),te=n(44),ne=n(1);function re(e){var t=e.bookmarks,n=e.bookmark,a=e.onChangeBookmark,c=Object(r.useState)(!1),o=Object(i.a)(c,2),s=o[0],l=o[1],b=function(e){var t=Object(te.a)();return Object(u.a)(t.breakpoints.up(e))}("sm");return Object(ne.jsxs)(Y.a,{disableUnderline:!0,open:s,onOpen:function(){return l(!0)},onClose:function(){return l(!1)},value:n,onChange:function(e){return a(Number(e.target.value))},children:[Object(ne.jsx)(ee.a,{value:0,children:s||b?"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u306a\u3057":"BM-"},0),t&&Object.keys(t).map((function(e){return Object(ne.jsx)(ee.a,{value:e,children:s||b?t[Number(e)].name:"BM".concat(n)},e)}))]})}function ae(e){return e.latest>e.bookmark}function ce(e){return ae(e)?"".concat(e.base_url).concat(e.bookmark+1,"/"):"".concat(e.base_url).concat(e.latest,"/")}function oe(e){var t=[e.title," ("];return ae(e)&&t.push("".concat(e.bookmark,"/")),t.push("".concat(e.latest,")")),e.completed&&t.push("[\u5b8c\u7d50]"),t.join("")}function ie(e){return Math.max(e.latest-e.bookmark,0)}function ue(e,t){var n=Object(m.b)(e?t?I.bookmarksR18():I.bookmarks():null,function(){var t=Object(k.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e?e.call(n):[]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a=n.data,c=n.error;return{data:Object(r.useMemo)((function(){return a?a.reduce((function(e,t){return e[t.no]={name:t.name,num_items:t.num_items},e}),{}):void 0}),[a]),error:c}}function se(){Object(m.c)("/narou/isnoticelist"),Object(m.c)("/r18/isnoticelist")}var le=n(207),be=n(188),fe=n(215),de=n(216),je=n(218),Oe=n(219),ve=n(220),me=n(221),pe=n(199),he=n(223);function ke(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),s=u[0],l=u[1],b=Object(r.useState)(""),f=Object(i.a)(b,2),d=f[0],j=f[1],O=Object(r.useCallback)(Object(k.a)(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.login(a,s);case 2:if((n=t.sent).ok){t.next=10;break}return t.next=6,n.text();case 6:r=t.sent,j("".concat(n.status," ").concat(n.statusText,"\n").concat(r)),t.next=11;break;case 10:e.onLogin();case 11:case"end":return t.stop()}}),t)}))),[a,s,e]),v=Object(r.useRef)(),m=Object(r.useCallback)((function(){var e;j(""),null===(e=v.current)||void 0===e||e.focus()}),[]);return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(le.a,{open:""!==d,onClose:function(){return m()},children:[Object(ne.jsx)(be.a,{children:"\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"}),Object(ne.jsx)(fe.a,{children:Object(ne.jsx)("pre",{children:d})}),Object(ne.jsx)(de.a,{children:Object(ne.jsx)(L.a,{autoFocus:!0,onClick:function(){return m()},children:"OK"})})]}),Object(ne.jsx)(je.a,{maxWidth:"sm",children:Object(ne.jsxs)(Oe.a,{raised:!0,children:[Object(ne.jsx)(ve.a,{title:"\u5c0f\u8aac\u5bb6\u306b\u306a\u308d\u3046\u306e\u30ed\u30b0\u30a4\u30f3\u60c5\u5831"}),Object(ne.jsx)(me.a,{children:Object(ne.jsxs)(K.a,{display:"flex",flexDirection:"column",justifyContent:"center",children:[Object(ne.jsx)(pe.a,{id:"id",name:"id",label:"ID or email",autoFocus:!0,value:a,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){var t;"Enter"===e.key&&(null===(t=v.current)||void 0===t||t.focus())}}),Object(ne.jsx)(pe.a,{id:"password",name:"password",label:"password",type:"password",value:s,onChange:function(e){return l(e.target.value)},inputRef:v,onKeyPress:function(e){"Enter"===e.key&&O()}})]})}),Object(ne.jsx)(he.a,{style:{justifyContent:"center"},children:Object(ne.jsx)(L.a,{variant:"contained",onClick:O,children:"login"})})]})})]})}function xe(e,t){var n=Object(r.useMemo)((function(){return function(e){if(!e)return null;var t=e.match(/https:\/\/([0-9a-zA-Z.]+)\/([0-9a-z]+)\/?/);if(!t)return console.warn("base_url is invalid: ".concat(e)),null;var n=Object(i.a)(t,3);return{host:n[1],ncode:n[2]}}(t)}),[t]),a=Object(r.useMemo)((function(){if(!n)return null;switch(n.host){case"ncode.syosetu.com":return I.novelInfo(n.ncode);case"novel18.syosetu.com":return I.novelInfoR18(n.ncode);default:return console.warn("unknown host: ".concat(n.host)),null}}),[n]),c=Object(m.b)(a,function(){var t=Object(k.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.call(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return{data:c.data,error:c.error}}function ge(e){var t=e.api,n=e.item,a=e.onClose,c=xe(t,null===n||void 0===n?void 0:n.base_url).data,o=ue((null===c||void 0===c?void 0:c.bookmark_no)?t:null,(null===n||void 0===n?void 0:n.isR18)||!1).data,i=Object(r.useMemo)((function(){console.log("novelInfo:",c),console.log("bookmarkInfo:",o);var e=null===c||void 0===c?void 0:c.bookmark_no;if(o&&e&&(null===c||void 0===c?void 0:c.bookmark_url))return{no:e,name:o[e].name,url:c.bookmark_url}}),[c,o]);return Object(ne.jsxs)(le.a,{open:!!n,onClose:a,children:[Object(ne.jsx)(be.a,{children:null===n||void 0===n?void 0:n.title}),Object(ne.jsxs)(fe.a,{children:["\u4f5c\u8005:",Object(ne.jsx)(l.a,{href:null===c||void 0===c?void 0:c.author_url,target:"_blank",children:null===n||void 0===n?void 0:n.author_name})]}),i&&Object(ne.jsxs)(fe.a,{children:["\u30d6\u30c3\u30af\u30de\u30fc\u30af:",Object(ne.jsx)(l.a,{href:i.url,target:"_blank",children:i.name})]}),Object(ne.jsxs)(de.a,{children:[Object(ne.jsx)(L.a,{size:"small",variant:"contained",onClick:function(){n&&window.open(n.base_url,"_blank"),a()},children:"\u5c0f\u8aac\u30da\u30fc\u30b8"}),Object(ne.jsxs)(L.a,{size:"small",variant:"contained",onClick:function(){n&&window.open(ce(n),"_blank"),a()},children:["\u6700\u65b0",null===n||void 0===n?void 0:n.latest,"\u90e8\u5206"]}),Object(ne.jsx)(L.a,{size:"small",variant:"contained",onClick:function(){return a()},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})}var ye={numNewItems:null,selectedIndex:-1,defaultIndex:-1};function we(e,t){switch(t.type){case"set":if(!t.items)return ye;var n=t.items.sort((function(e,t){return function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var c=0,o=r;c<o.length;c++){var i=o[c],u=void 0;if(u="object"===typeof i?Ce(t,e,i.f):Ce(e,t,i))return u}return 0}(e,t,(function(e){return _e(e)}),e.bookmark<e.latest?function(e){return e.update_time}:{f:function(e){return e.update_time}},(function(e){return e.base_url}))})).slice(0,30),r=n[0],a=r&&r.bookmark<r.latest?0:-1;return Object(S.a)(Object(S.a)({},e),{},{items:n,numNewItems:n.filter((function(e){return e.bookmark<e.latest})).length,selectedIndex:a,defaultIndex:a});case"select":return Object(S.a)(Object(S.a)({},e),{},{selectedIndex:e.items?Math.max(Math.min(t.index,e.items.length-1),-1):-1})}}function Ce(e,t,n){var r=n(e),a=n(t);return r<a?-1:r>a?1:0}var _e=function(e){return e.bookmark===e.latest?Number.MAX_SAFE_INTEGER:e.bookmark>e.latest?Number.MAX_SAFE_INTEGER-1:e.latest-e.bookmark};var Ie=n(101);function Se(e){return[e.shiftKey?"shift":void 0,e.ctrlKey?"ctrl":void 0,e.altKey?"alt":void 0,e.metaKey?"meta":void 0,e.key].filter((function(e){return void 0!==e})).join("+")}function Be(){var e=Object(r.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=Object.keys(n);if(e.length>0){e.forEach((function(e){return function(e){var t="+"===e?["+"]:e.endsWith("++")?["+"].concat(Object(B.a)(e.slice(0,-2).split("+").reverse())):e.split("+").reverse(),n=Object(Ie.a)(t),r=n[0],a=n.slice(1),c=["shift","ctrl","alt","meta"];if(a.some((function(e){return!c.includes(e)})))throw new Error("HotKey(".concat(e,"): unknown modifiers: ").concat(a.filter((function(e){return!c.includes(e)}))));var o=Se({key:r,shiftKey:a.some((function(e){return"shift"===e})),ctrlKey:a.some((function(e){return"ctrl"===e})),altKey:a.some((function(e){return"alt"===e})),metaKey:a.some((function(e){return"meta"===e}))});if(o!==e)throw new Error("HotKey(".concat(e,"): invalid order: must be ").concat(o," "))}(e)}));var t=function(e){var t=n[Se(e)];t&&t(e)};return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t)}}}),[n]),[a]}var Ee="https://syosetu.com/user/top/",Re=Object(q.a)((function(e){return Object(V.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})}));function Ae(e){return e.latest<e.bookmark?{color:"secondary",badgeContent:"!"}:{color:"primary",badgeContent:ie(e)}}function Fe(e){return e?2:1}function Me(e){var t=e.server,n=e.onUnauthorized,a=Re(),c=Object(r.useState)(!1),o=Object(i.a)(c,2),u=o[0],s=o[1],l=Object(r.useState)(Fe(!1)),b=Object(i.a)(l,2),f=b[0],d=b[1],j=Object(r.useState)(0),O=Object(i.a)(j,2),p=O[0],x=O[1],g=function(e,t){var n=t.enableR18,a=t.maxPage,c=void 0===a?1:a,o=t.bookmark,i=void 0===o?0:o,u=Object(m.b)(I.isnoticelist({maxPage:c}),function(){var t=Object(k.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.call(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onErrorRetry:function(e){console.log("onErrorRetry:",e,e.status)}}),s=u.data,l=u.error,b=Object(m.b)(!l&&i?I.bookmark(i,{order:"new"}):null,function(){var t=Object(k.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.call(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),f=b.data,d=b.error,j=Object(m.b)(!l&&n?I.isnoticelistR18({maxPage:c}):null,function(){var t=Object(k.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.call(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),O=j.data,p=j.error,x=Object(r.useMemo)((function(){if(s&&f){var e=new Set(s.map((function(e){return e.base_url}))),t=f.filter((function(t){return t.is_notice&&!e.has(t.base_url)}));if(t.length>0)return[].concat(Object(B.a)(s),Object(B.a)(t))}return s}),[s,f]),g=Object(r.useMemo)((function(){if(void 0!==x)return[].concat(Object(B.a)(x.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isR18:!1})}))),Object(B.a)((O||[]).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isR18:!0})})))).map((function(e){return Object(S.a)(Object(S.a)({},e),{},{update_time:v.DateTime.fromISO(e.update_time)})}))}),[x,O]);return{data:l?void 0:g,error:l||p||d}}(t,{enableR18:u,maxPage:f,bookmark:p}),y=g.data,w=g.error,C=ue(t,!1).data,_=Object(r.useReducer)(we,ye),V=Object(i.a)(_,2),q=V[0],Y=q.items,ee=q.numNewItems,te=q.selectedIndex,ae=q.defaultIndex,se=V[1];Object(r.useEffect)((function(){se({type:"set",items:y})}),[y]);var le=function(e){return se({type:"select",index:e})},be=Object(r.useState)(void 0),fe=Object(i.a)(be,2),de=fe[0],je=fe[1],Oe="setAppBadge"in navigator&&"clearAppBadge"in navigator?{setAppBadge:function(e){return navigator.setAppBadge(e)},clearAppBadge:function(){return navigator.clearAppBadge()}}:{setAppBadge:function(){return Promise.resolve()},clearAppBadge:function(){return Promise.resolve()}},ve=Oe.setAppBadge,me=Oe.clearAppBadge,pe="setClientBadge"in navigator&&"clearClientBadge"in navigator?{setClientBadge:function(e){return navigator.setClientBadge(e)},clearClientBadge:function(){return navigator.clearClientBadge()}}:{setClientBadge:function(){return Promise.resolve()},clearClientBadge:function(){return Promise.resolve()}},he=pe.setClientBadge,ke=pe.clearClientBadge;Object(r.useEffect)((function(){null!==ee&&(document.title="\u306a\u308d\u3046 \u672a\u8aad:".concat(ee),ee?(ve(ee),he(ee)):(me(),ke()))}),[me,ke,ee,ve,he]);var xe=Object(r.useCallback)((function(e){e&&(Object(Q.a)(e,{behavior:"smooth",scrollMode:"if-needed"}),e.focus())}),[]),Ce=Object(r.useRef)(null);Object(r.useEffect)((function(){var e;-1===te&&(null===(e=Ce.current)||void 0===e||e.focus())}),[te]);var _e=Be(),Ie=Object(i.a)(_e,1)[0];Object(r.useEffect)((function(){if(Y){var e=Y.length,t=function(e){e.preventDefault(),se({type:"select",index:te-1})},n=function(e){e.preventDefault(),se({type:"select",index:te+1})};Ie(Object(S.a)(Object(S.a)(Object(S.a)(Object(S.a)({},te>0&&{ArrowUp:t,k:t}),te<e-1&&{ArrowDown:n,j:n}),e>0&&{Home:function(){return le(0)},End:function(){return le(e-1)},Escape:function(){return le(ae)}}),{},{r:function(){return s((function(e){return!e}))},1:function(){return d((function(e){return Fe(e===Fe(!1))}))},h:function(){return window.open(Ee,"_blank")}},C&&{b:function(){return x(function(e,t){var n,r=Object.keys(e).map((function(e){return Number(e)})),a=Object(E.a)(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(c>t)return c}}catch(o){a.e(o)}finally{a.f()}return 0}(C,p))},"shift+B":function(){return x(function(e,t){var n=[0].concat(Object(B.a)(Object.keys(e).map((function(e){return Number(e)})))),r=n.findIndex((function(e){return e>=t}));return r>0?n[r-1]:n[n.length-1]}(C,p))}}))}}),[te,ae,Y,C,p,Ie]);var Se=Object(r.useCallback)((function(e){return ie(e)>0?{component:"a",href:ce(e),onClick:function(){return le(-1)},target:"_blank"}:{disabled:!0}}),[]);return w?(console.log("error =",w),401===w.status&&n(),Object(ne.jsxs)("div",{onClick:function(){return window.location.reload()},children:[Object(ne.jsxs)("p",{children:["Server(",JSON.stringify(t.baseUrl),") is not working...?"]}),Object(ne.jsxs)("p",{children:["status: ",w.status]}),Object(ne.jsx)("code",{children:w.message})]})):Y?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(ge,{api:t,item:de,onClose:function(){return je(void 0)}}),Object(ne.jsx)(P.a,{position:"sticky",children:Object(ne.jsxs)(z.a,{children:[Object(ne.jsx)(K.a,{children:Object(ne.jsx)(N.a,{label:"R18",control:Object(ne.jsx)(D.a,{checked:u,onChange:function(e){return s(e.target.checked)}})})}),Object(ne.jsx)(K.a,{children:Object(ne.jsx)(re,{bookmarks:C,bookmark:p,onChangeBookmark:x})}),Object(ne.jsxs)(K.a,{m:2,children:["\u672a\u8aad: ",null!==ee&&void 0!==ee?ee:""]}),Object(ne.jsx)(L.a,{variant:"contained",disabled:0===te,disableRipple:!0,ref:Ce,onClick:function(){return le(ae)},children:"ESC"})]})}),Object(ne.jsxs)(K.a,{m:2,display:"flex",alignItems:"center",flexDirection:"column",bgcolor:"background.paper",children:[Object(ne.jsx)(K.a,{maxWidth:600,children:Object(ne.jsx)(T.a,{children:null===Y||void 0===Y?void 0:Y.map((function(e,t){return Object(ne.jsxs)(U.a,Object(S.a)(Object(S.a)(Object(S.a)({button:!0},t===te?{selected:!0,ref:xe}:{}),{},{disableRipple:!0,onFocusVisible:function(){return le(t)}},Se(e)),{},{children:[Object(ne.jsx)(H.a,{children:Object(ne.jsx)(G.a,Object(S.a)(Object(S.a)({overlap:"circular"},Ae(e)),{},{children:Object(ne.jsx)(J.a,{children:Object(ne.jsx)(R.a,{color:e.isR18?"secondary":void 0})})}))}),Object(ne.jsx)(W.a,{primary:oe(e),secondary:"".concat(e.update_time.toFormat("yyyy/LL/dd HH:mm")," \u66f4\u65b0  \u4f5c\u8005:").concat(e.author_name)}),Object(ne.jsx)(X.a,{children:Object(ne.jsx)(Z.a,{edge:"end",onClick:function(){return je(e)},disableRipple:!0,size:"large",children:Object(ne.jsx)(A.a,{})})})]}),e.base_url)}))})}),Object(ne.jsx)(K.a,{position:"fixed",right:"20px",bottom:"20px",children:Object(ne.jsx)($.a,{variant:"extended",size:"small",disableRipple:!0,component:"a",href:Ee,target:"_blank",children:"\u30e6\u30fc\u30b6\u30fc\u30db\u30fc\u30e0"})})]})]}):Object(ne.jsx)(F.a,{className:a.backdrop,open:!0,children:Object(ne.jsx)(M.a,{color:"inherit"})})}function Pe(e){var t=e.api,n=Object(r.useState)(!1),a=Object(i.a)(n,2),c=a[0],o=a[1];return c?Object(ne.jsx)(ke,{api:t,onLogin:function(){console.log("logged in!"),se(),o(!1)}}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Me,{server:t,onUnauthorized:function(){se(),o(!0)}}),Object(ne.jsx)(L.a,{onClick:Object(k.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logout();case 2:se(),o(!0);case 4:case"end":return e.stop()}}),e)}))),children:"logout"})]})}var ze=function(){var e=Object(u.a)("(prefers-color-scheme: dark)"),t=Object(r.useMemo)((function(){return Object(d.a)({palette:{mode:e?"dark":"light",primary:f.a}})}),[e]),n=Object(r.useState)(null),a=Object(i.a)(n,2),c=a[0],o=a[1],p=Object(r.useState)(!1),h=Object(i.a)(p,2),k=h[0],x=h[1];return Object(r.useEffect)((function(){var e,t=(e=document.location,new URLSearchParams(e.search).get("server")||("http:"===e.protocol?"http://localhost:7676":/.*\.github\.io$/.test(e.hostname)?"":e.protocol+"//"+e.host+e.pathname));t?o(new I(t)):x(!0)}),[]),k?Object(ne.jsx)(j.a,{injectFirst:!0,children:Object(ne.jsxs)(O.a,{theme:t,children:[Object(ne.jsx)(s.a,{children:"http\u4ee5\u5916\u306e\u5834\u5408\u306f\u5fc5\u305a server \u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u30b5\u30fc\u30d0\u30fc\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(ne.jsx)(l.a,{href:"https://github.com/koizuka/narou-watcher/",children:"GitHub"})]})}):Object(ne.jsx)(j.a,{injectFirst:!0,children:Object(ne.jsxs)(O.a,{theme:t,children:[Object(ne.jsx)(b.a,{}),Object(ne.jsx)(m.a,{value:{refreshInterval:3e5},children:c&&Object(ne.jsx)(Pe,{api:c})}),Object(ne.jsxs)("div",{style:{display:"inline-block",position:"fixed",bottom:0,right:0,fontSize:"small",fontStyle:"italic"},children:["narou-react: ",v.DateTime.fromISO("2021-11-06T11:20:25.720Z").toISO()]})]})})},Ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,233)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(ne.jsx)(a.a.StrictMode,{children:Object(ne.jsx)(ze,{})}),document.getElementById("root")),Ke()}},[[138,1,2]]]);
//# sourceMappingURL=main.176e7e83.chunk.js.map