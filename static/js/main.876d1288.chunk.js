(this["webpackJsonpnarou-react"]=this["webpackJsonpnarou-react"]||[]).push([[0],{52:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),o=n(10),a=n.n(o),i=(n(52),n(40)),u=n(15),d=n(32),l=n(29),s=n(81),b=n(74),j=n(75),f=n(82),m=n(83),O=n(76),h=n(77),v=n(84),p=n(79),k=n(28),x=n(78),g=n(6),y=k.Duration.fromObject({days:30});function _(t){return t.bookmark>=t.latest?"".concat(t.base_url).concat(t.latest,"/"):"".concat(t.base_url).concat(t.bookmark+1,"/")}function w(){var t=Object(c.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=function(t){var e="http://localhost:7676",n=Object(l.b)("".concat(e,"/narou/isnoticelist")),r=n.data,o=n.error,a=Object(l.b)(!o&&t?"".concat(e,"/r18/isnoticelist"):null),i=a.data,s=a.error,b=Object(c.useMemo)((function(){if(void 0!==r){var t=k.DateTime.now().minus(y);return[].concat(Object(d.a)(r.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{isR18:!1})}))),Object(d.a)((i||[]).map((function(t){return Object(u.a)(Object(u.a)({},t),{},{isR18:!0})})))).map((function(t){return Object(u.a)(Object(u.a)({},t),{},{update_time:k.DateTime.fromISO(t.update_time)})})).filter((function(e){return e.update_time>t})).sort((function(t,e){return t.update_time>e.update_time?-1:t.update_time<e.update_time?1:0}))}}),[r,i]);return{data:o?void 0:b,error:o||s}}(n),a=o.data,w=o.error,E=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.filter((function(t){return t.bookmark<t.latest}))}),[a]),L=Object(c.useMemo)((function(){return E&&E.length>0?_(E[0]):void 0}),[E]);return Object(c.useEffect)((function(){document.title="\u306a\u308d\u3046 \u672a\u8aad:".concat(null===E||void 0===E?void 0:E.length)}),[E]),Object(c.useEffect)((function(){if(void 0!==L){var t=function(t){"Enter"===t.key&&window.open(L,"_blank")};return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t)}}}),[L]),w?Object(g.jsx)("div",{children:"Server is not working...?"}):a?Object(g.jsxs)(s.a,{m:2,display:"flex",flexDirection:"column",bgcolor:"background.paper",children:[null===E||void 0===E?void 0:E.map((function(t,e){return Object(g.jsx)(b.a,{variant:"contained",color:e?void 0:"primary",href:_(t),target:"_blank",children:"".concat(t.title,"(").concat(t.bookmark+1,"\u90e8\u5206)\u3092\u958b\u304f").concat(!e&&" [Enter]")},t.base_url)})),Object(g.jsx)("p",{children:Object(g.jsx)(j.a,{label:"R18\u3092\u542b\u3081\u308b",control:Object(g.jsx)(f.a,{checked:n,onChange:function(t){return r(t.target.checked)}})})}),Object(g.jsx)("p",{children:"\u672a\u8aad: ".concat(null===E||void 0===E?void 0:E.length," \u4f5c\u54c1.")}),null===a||void 0===a?void 0:a.map((function(t){return Object(g.jsx)(s.a,{width:"100%",children:Object(g.jsx)(b.a,{variant:"outlined",href:_(t),target:"_blank",children:Object(g.jsxs)(m.a,{children:[Object(g.jsx)(O.a,{children:Object(g.jsx)(h.a,{color:"primary",badgeContent:Math.max(t.latest-t.bookmark,0),children:Object(g.jsx)(v.a,{children:Object(g.jsx)(x.a,{color:t.isR18?"secondary":void 0})})})}),Object(g.jsx)(p.a,{primary:t.bookmark<t.latest?"".concat(t.title," (").concat(t.bookmark,"/").concat(t.latest,")"):"".concat(t.title," (").concat(t.latest,")"),secondary:"".concat(t.update_time.toFormat("yyyy/LL/dd HH:mm")," \u66f4\u65b0")})]})})},t.base_url)}))]}):Object(g.jsx)("div",{children:"Loading..."})}var E=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(l.a,{value:{refreshInterval:3e5,fetcher:function(t){return fetch(t).then((function(t){return t.json()}))}},children:Object(g.jsx)(w,{})})})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),o(t),a(t)}))};a.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(E,{})}),document.getElementById("root")),L()}},[[58,1,2]]]);
//# sourceMappingURL=main.876d1288.chunk.js.map